{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',

  packageRules: [
    // Node.js runtime
    {
      matchPackageNames: ['node'],
      matchManagers: ['dockerfile', 'npm'],
      groupName: 'Node.js',
      commitMessageTopic: 'Node.js',
    },

    // TypeScript ecosystem
    {
      matchPackageNames: ['typescript'],
      matchPackagePatterns: ['^@types/'],
      groupName: 'TypeScript',
    },

    // Next.js + React
    {
      matchPackageNames: ['next', 'react', 'react-dom'],
      matchPackagePatterns: ['^@next/'],
      groupName: 'Next.js',
    },

    // Tailwind
    {
      matchPackageNames: ['tailwindcss'],
      matchPackagePatterns: ['^@tailwindcss/'],
      groupName: 'Tailwind CSS',
    },

    // ESLint
    {
      matchPackageNames: ['eslint'],
      matchPackagePatterns: ['^eslint-', '^@typescript-eslint/'],
      groupName: 'ESLint',
    },

    // Prettier
    {
      matchPackageNames: ['prettier'],
      matchPackagePatterns: ['^prettier-plugin-'],
      groupName: 'Prettier',
    },

    // Testing (Cypress)
    {
      matchPackageNames: ['cypress'],
      matchPackagePatterns: ['^@cypress/', '^cypress-'],
      groupName: 'Cypress',
    },

    // Database - needs careful review due to migrations
    {
      matchPackageNames: ['pg', 'sqlite3', 'typeorm'],
      groupName: 'Database',
      minimumReleaseAge: '7 days',
    },

    // Major updates need review
    {
      matchUpdateTypes: ['major'],
      minimumReleaseAge: '3 days',
    },
  ],
}
