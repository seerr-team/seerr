{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',

  packageRules: [
    {
      matchManagers: ['helm-values'],
      matchFileNames: ['charts/*/values.yaml'],
    },
  ],

  customManagers: [
    {
      customType: 'regex',
      description: 'Update appVersion in Chart.yaml to match Docker image',
      fileMatch: ['(^|/)Chart\\.yaml$'],
      matchStrings: [
        'appVersion:\\s*"(?<currentValue>.*)"',
      ],
      datasourceTemplate: 'docker',
    },
  ],
}
