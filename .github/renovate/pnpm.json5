{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',

  // Weekly lockfile refresh
  lockFileMaintenance: {
    enabled: true,
    automerge: false,
    schedule: ['before 9pm on friday'],
    commitMessageAction: 'Update',
    commitMessageTopic: 'lockfile',
  },

  // Run pnpm dedupe after dependency updates
  postUpdateOptions: ['pnpmDedupe'],

  // Bump pnpm engine requirement in package.json
  packageRules: [
    {
      matchPackageNames: ['pnpm'],
      groupName: 'pnpm',
      rangeStrategy: 'bump',
    },
  ],
}
